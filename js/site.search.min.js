function doSearch(){var searchIndex=lunr(function(){this.use(lunr.fr);this.use(lunr.unicodeNormalizer);this.ref("name");this.field("title");this.field("url");this.field("img");this.field("summary");this.field("categories");source.forEach(function(doc){this.add(doc)},this);});var toSearch=decodeURIComponent(window.location.hash).substring(1);var searchResults=searchIndex.search(toSearch);var searchResultElement=document.getElementById("search-result");console.log(searchResults);if(searchResults.length>0){searchResultElement.innerHTML=searchResults.map(function(match){let item=source.find(function(e){return e.name==match.ref;});return "<div class='search-element'>"+
"<a class='search-cover' href='"+item.url+"'><img src='"+item.img+"' /></a>"+
"<div class='search-description'>"+
"<h4><a href='"+item.url+"'>"+item.title+"</a></h4>"+
"<p class='summary'>"+item.summary+"</p>"+
"<p class='tags'>"+item.categories+"</p>"+
"</div>"+
"</div>";}).join("");}else{searchResultElement.innerHTML="<p class='no-result'>Pas de r√©sultat</p>";}}